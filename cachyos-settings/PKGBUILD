# Maintainer: Peter Jung <admin@ptr1337.dev>
# Maintainer: Piotr GÃ³rski <lucjan.lucjanov@gmail.com>

pkgname=cachyos-settings
gitname=CachyOS-Settings
pkgver=20220819.r49.gc129cad
pkgrel=2
groups=(cachyos)
arch=('any')
license=('GPL')
makedepends=('coreutils')
pkgdesc='CachyOS - Settings'
source=("git+https://github.com/sirlucjan/$gitname")
install=$pkgname.install
sha256sums=('SKIP')
depends=(
    'irqbalance'
    'ananicy-cpp'
    'ananicy-rules-git'
    'uksmd'
    )
replaces=(zramd)

pkgver() {
  cd $gitname
  echo "$(git show --format='%cI' -q master | sed 's/T.*//g;s/-//g').r$(git rev-list --count HEAD).g$(git rev-parse --short HEAD)"
}

package() {
  install -d $pkgdir/etc
  cp -rf $srcdir/$gitname/etc $pkgdir
  install -d $pkgdir/usr
  cp -rf $srcdir/$gitname/usr $pkgdir
}
