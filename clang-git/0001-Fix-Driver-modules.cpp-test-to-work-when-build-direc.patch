From 20ffd5bc4e45980dc804c5fa422e5182cbc975b7 Mon Sep 17 00:00:00 2001
From: Tom Stellard <tstellar@redhat.com>
Date: Tue, 13 Aug 2019 13:38:40 -0700
Subject: [PATCH] Fix Driver/modules.cpp test to work when build directory name
 contains '.s'

---
 clang/test/Driver/modules.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/clang/test/Driver/modules.cpp b/clang/test/Driver/modules.cpp
index 7c549c1..9e06151 100644
--- a/clang/test/Driver/modules.cpp
+++ b/clang/test/Driver/modules.cpp
@@ -15,7 +15,8 @@
 // RUN: %clang -std=c++2a %t/module.pcm -S -o %t/module.pcm.o -v 2>&1 | FileCheck %s --check-prefix=CHECK-COMPILE
 //
 // CHECK-COMPILE: -cc1 {{.*}} {{-emit-obj|-S}}
-// CHECK-COMPILE-SAME: -o {{.*}}.{{pcm.o|s}}
+// Check for extra space to avoid failures when the build directory contains '.s' in its path.
+// CHECK-COMPILE-SAME: -o {{.*}}.{{pcm.o|s}}{{ }}
 // CHECK-COMPILE-SAME: -x pcm
 // CHECK-COMPILE-SAME: {{.*}}.pcm
 
-- 
1.8.3.1

